# ubergarm's custom xorg.conf
# for ThinkPad W500 w/ Mobility Radeon HD 3650
# features dual head displayport 
# Tested working with xrandr, virtual display, and xmonad
# Place a link to this file in the followin location:
# /etc/X11/xorg.conf
# Most of this is taken from here:
# https://wiki.debian.org/AtiHowTo
# Autogenerated portion from `sudo Xorg -configure` when x not running

Section "ServerLayout"
	Identifier     "X.org Configured"
	Screen         "Screen0"
	InputDevice    "Mouse0" "CorePointer"
	InputDevice    "Keyboard0" "CoreKeyboard"
EndSection

Section "Files"
	ModulePath   "/usr/lib/xorg/modules"
	FontPath     "/usr/share/fonts/X11/misc"
	FontPath     "/usr/share/fonts/X11/cyrillic"
	FontPath     "/usr/share/fonts/X11/100dpi/:unscaled"
	FontPath     "/usr/share/fonts/X11/75dpi/:unscaled"
	FontPath     "/usr/share/fonts/X11/Type1"
	FontPath     "/usr/share/fonts/X11/100dpi"
	FontPath     "/usr/share/fonts/X11/75dpi"
	FontPath     "/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType"
	FontPath     "built-ins"
EndSection

Section "Module"
	Load  "dri"
	Load  "glx"
	Load  "record"
	Load  "dbe"
	Load  "extmod"
	Load  "dri2"
EndSection

Section "InputDevice"
	Identifier  "Keyboard0"
	Driver      "kbd"
EndSection

Section "InputDevice"
	Identifier  "Mouse0"
	Driver      "mouse"
	Option	    "Protocol" "auto"
	Option	    "Device" "/dev/input/mice"
	Option	    "ZAxisMapping" "4 5 6 7"
EndSection

Section "Monitor"
	Identifier   "Monitor0"
	VendorName   "Monitor Vendor"
	ModelName    "Monitor Model"
EndSection

Section "Device"
        ### Available Driver options are:-
        ### Values: <i>: integer, <f>: float, <bool>: "True"/"False",
        ### <string>: "String", <freq>: "<f> Hz/kHz/MHz",
        ### <percent>: "<f>%"
        ### [arg]: arg optional
        #Option     "NoAccel"            	# [<bool>]
        #Option     "AccelMethod"        	# <str>
        #Option     "Backlight"          	# <str>
        #Option     "DRI"                	# <str>
        #Option     "ColorKey"           	# <i>
        #Option     "VideoKey"           	# <i>
        #Option     "Tiling"             	# [<bool>]
        #Option     "LinearFramebuffer"  	# [<bool>]
        #Option     "SwapbuffersWait"    	# [<bool>]
        #Option     "TripleBuffer"       	# [<bool>]
        #Option     "XvPreferOverlay"    	# [<bool>]
        #Option     "HotPlug"            	# [<bool>]
        #Option     "ReprobeOutputs"     	# [<bool>]
        #Option     "XvMC"               	# [<bool>]
        #Option     "ZaphodHeads"        	# <str>
        #Option     "TearFree"           	# [<bool>]
        #Option     "PerCrtcPixmaps"     	# [<bool>]
        #Option     "FallbackDebug"      	# [<bool>]
        #Option     "DebugFlushBatches"  	# [<bool>]
        #Option     "DebugFlushCaches"   	# [<bool>]
        #Option     "DebugWait"          	# [<bool>]
        #Option     "BufferCache"        	# [<bool>]
	Identifier  "Card0"
	Driver      "intel"
	BusID       "PCI:0:2:0"
EndSection

Section "Device"
        ### Available Driver options are:-
        ### Values: <i>: integer, <f>: float, <bool>: "True"/"False",
        ### <string>: "String", <freq>: "<f> Hz/kHz/MHz",
        ### <percent>: "<f>%"
        ### [arg]: arg optional
        #Option     "NoAccel"            	# [<bool>]
        #Option     "SWcursor"           	# [<bool>]
        Option     "EnablePageFlip" "1"    	# [<bool>]
        Option     "ColorTiling" "1"       	# [<bool>]
        Option     "ColorTiling2D" "1"     	# [<bool>]
        #Option     "RenderAccel"        	# [<bool>]
        #Option     "SubPixelOrder"      	# [<str>]
        #Option     "EXAVSync"           	# [<bool>]
        #Option     "EXAPixmaps"         	# [<bool>]
        #Option     "ZaphodHeads"        	# <str>
        Option     "ZaphodHeads" "LVDS,DisplayPort-0"
        Option     "EnablePageFlip" "1"    	# [<bool>]
        #Option     "SwapbuffersWait"    	# [<bool>]
	# Option "AccelMethod" "XAA"
	# # XAA/EXA
	# Option "AccelDFS"    "1"
	# # 1/0 On for PCIE, off for AGP
	# # Manpage: Use  or  don't  use accelerated EXA DownloadFromScreen hook
	# # when possible.
	# Option "AGPMode" "1"
	# # 1-8 Does not affect PCIE models.
	# Option "AGPFastWrite" "1"
	# # 1/0 Does not affect PCIE models. Not recommended.
	# Option "GARTSize" "64"
	# # 0-64 Megabytes of gart (system) memory used.
	# # Wrongly defaults to 8MB sometimes, see your logfile.
	# # Bigger seems better.
	# Option "EnablePageFlip" "1"
	# # 1/0 Increases 3D performance substantially
	# # seemingly in XAA mode only
	# Option "ColorTiling" "1"
	# # 1/0 Increases 3D performance substantially
	# # affected stability only positively on my system
	Identifier  "Card1"
	Driver      "radeon"
	BusID       "PCI:1:0:0"
EndSection

Section "Device"
        ### Available Driver options are:-
        ### Values: <i>: integer, <f>: float, <bool>: "True"/"False",
        ### <string>: "String", <freq>: "<f> Hz/kHz/MHz",
        ### <percent>: "<f>%"
        ### [arg]: arg optional
        #Option     "ShadowFB"           	# [<bool>]
        #Option     "Rotate"             	# <str>
        #Option     "fbdev"              	# <str>
        #Option     "debug"              	# [<bool>]
	Identifier  "Card2"
	Driver      "fbdev"
	BusID       "PCI:1:0:0"
EndSection

Section "Device"
        ### Available Driver options are:-
        ### Values: <i>: integer, <f>: float, <bool>: "True"/"False",
        ### <string>: "String", <freq>: "<f> Hz/kHz/MHz",
        ### <percent>: "<f>%"
        ### [arg]: arg optional
        #Option     "ShadowFB"           	# [<bool>]
        #Option     "DefaultRefresh"     	# [<bool>]
        #Option     "ModeSetClearScreen" 	# [<bool>]
	Identifier  "Card3"
	Driver      "vesa"
	BusID       "PCI:1:0:0"
EndSection

Section "Screen" 
	Identifier "Screen0"
	# Depending on how BIOS is set for switchable graphics
    # Device     "Card0"
    # Just force discrete and not switchable
    Device     "Card1"
	Monitor    "Monitor0"
	SubSection "Display"
		Depth     24
	    Virtual 1920 2200
	EndSubSection
EndSection
